# Nado HFT Bot - 中文文档

本文档旨在帮助用户快速了解本 HFT (高频交易) 机器人的架构、文件组成及核心运行逻辑。

## 1. 项目概述
本机器人专为 Nado Protocol 交易所开发，采用“网格+对冲”的高频策略，支持官方 SDK 标准的 EIP-712 签名及动态合约加载。

## 2. 核心架构与文件说明

### 2.1 后端引擎层
*   **`hft_bot.py`**: **策略核心**。负责监听实时订单簿 (Orderbook)、计算加权中间价、管理仓位和执行高频挂单。
*   **`trading_bot.py`**: **通用机器人架构**。定义了基础的交易循环和订单监控逻辑。
*   **`api_server.py`**: **控制中心 (FastAPI)**。连接前端 UI 与后端机器人，处理启动/停止指令，并提供紧急平仓 (`/close_all`) 和一键撤单 (`/cancel_all`) 功能。

### 2.2 交易所接入层
*   **`exchanges/nado.py`**: **Nado 专门客户端**。支持符合官方标准的 EIP-712 签名，动态获取 `endpoint_addr`，并管理 WebSocket 实时连接。
*   **`exchanges/factory.py`**: **工厂模式**。根据配置自动生成对应的交易所客户端实例。
*   **`exchanges/base.py`**: **基类定义**。规定了所有交易所客户端必须实现的接口标准。

### 2.3 辅助工具层
*   **`pnl_tracker.py`**: **资产统计**。实时跟踪账户余额、持仓杠杆和总盈亏 (PnL)。
*   **`helpers/logger.py`**: **交易日志**。提供标准化的日志记录，支持控制台输出和文件存储。

### 2.4 前端界面
*   **`web-ui/`**: 基于 Next.js 开发的监控面板。支持实时查看行情、调整策略参数及一键紧急避险。

## 3. 核心功能特点
1.  **SDK 标准化**：签名逻辑完全对齐官方文档，极大提升了下单成功率。
2.  **动态感知**：自动解析产品 ID 和主合约地址，无需人工干预配置。
3.  **Booster Mode**：支持快速平仓对冲，优化资金周转率。
4.  **安全保护**：内置异常监控，支持在检测到仓位不匹配时自动停机并推送到 Lark/Telegram。

## 4. 快速开始
1.  配置 `.env` 文件（私钥、网络变量等）。
2.  运行 `python api_server.py` 启动后端。
3.  在浏览器访问 `http://localhost:3000` 进入控制后台。

---
*注：本项目仅供开发参考，请务必在充分理解风险的前提下进行实盘交易。*
